Щоб реалізувати розрахунок вартості доставки Нової Пошти в своєму додатку, вам потрібно врахувати кілька факторів. Ось загальна логіка, яку можна використати:

Основні фактори для розрахунку вартості доставки:
Вага посилки: Це один із основних факторів для розрахунку.
Об'єм посилки: У разі об'ємних посилок (більші за розміри, але з малою вагою) необхідно враховувати коефіцієнт об'єму.
Відстань: Чим більша відстань між пунктами відправлення та отримання, тим вища вартість.
Тип доставки: Стандартна, експрес або на поштомат.
Додаткові послуги: Страхування, оголошена вартість, повернення документації.
Приблизний алгоритм розрахунку:
Базова вартість за вагу і відстань: Це основний коефіцієнт, який може залежати від ваги і відстані. Наприклад:

Якщо вага посилки до 1 кг і відстань до 50 км, вартість може бути 40-50 грн.
Для більших відстаней вартість зростає, наприклад, на кожні 100 км додається +10-20 грн.
Об'ємний коефіцієнт (для об'ємних посилок): Якщо ваша посилка займає великий об'єм (наприклад, більше ніж 0.1 м³), то можна додавати коригування по формулі:

Об'єм = довжина × ширина × висота (в метрах).
Якщо об'ємний коефіцієнт (наприклад, для об'єму понад 0.1 м³) більший за вагу, то застосовується об'ємна вага (замість фактичної).
Формула об'ємної ваги (якщо це потрібно):
\text{Об'ємна вага} = \frac{\text{Об'єм (м³)} \times 250} 250 — це коефіцієнт, який використовується для конвертації об'єму в еквівалентну вагу (в кг).
Коефіцієнт відстані: Наприклад, можна створити тарифну сітку:

Вартість до 50 км = 50 грн.
Вартість 50-200 км = 60-100 грн.
Вартість понад 200 км = 100-200 грн (залежно від фактичної відстані).
Тип доставки:

Для стандартної доставки: базова вартість.
Для експрес-доставки: збільшення вартості на 30-50% залежно від терміновості.
Для поштомату: зазвичай дешевше на 10-15%.
Додаткові послуги:

Страхування: 1-2% від оголошеної вартості товару.
Оголошена вартість (якщо є): додатково до вартості доставки додається певний процент.
Формули для розрахунку: Приблизний розрахунок вартості доставки можна реалізувати таким чином:

python
Копіювати
Редагувати
# Вхідні дані
weight = 2  # Вага посилки в кг
distance = 150  # Відстань в км
volume = 0.05  # Об'єм посилки в м³ (якщо застосовується)
express_delivery = True  # Чи є експрес-доставка
insurance = 1  # Оголошена вартість посилки (у % від вартості)

# Коефіцієнти
base_rate_per_kg = 40  # Базова ставка за 1 кг (для першої зони доставки)
volume_rate = 250  # Коефіцієнт для об'ємної ваги
distance_rate = 10  # Ставка за 100 км відстані

# Обчислення об'ємної ваги (якщо це потрібно)
if volume > 0.1:
    volume_weight = volume * volume_rate
    weight = max(weight, volume_weight)

# Розрахунок вартості за вагу
weight_cost = weight * base_rate_per_kg

# Розрахунок вартості по відстані
distance_cost = (distance // 100) * distance_rate

# Експрес-доставка
if express_delivery:
    weight_cost *= 1.5  # Збільшуємо на 50%

# Загальна вартість доставки
total_cost = weight_cost + distance_cost

# Додаткові послуги
total_cost += total_cost * (insurance / 100)  # Страхування

# Виведення результату
return total_cost
Врахування специфічних факторів:
Перевезення вантажів за кордон: тут враховується додатковий міжнародний тариф.
Доставка в села чи віддалені райони: може бути додатковий коефіцієнт для таких адрес.
Це лише приблизна модель, яку можна адаптувати під конкретні умови. В реальності тарифи і формули можуть змінюватися, тому вам слід регулярно оновлювати базу даних з тарифами для точного розрахунку.